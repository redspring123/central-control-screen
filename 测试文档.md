# 华为中控屏项目 - 测试文档

**项目名称：** 中央控制屏（康养系统）  
**测试日期：** 2025年12月30日  
**版本：** 1.0

---

## 1. 测试概述

### 1.1 测试目标

- ✅ 验证所有功能正常运行
- ✅ 确保界面流畅（帧率 ≥ 55 FPS）
- ✅ 验证响应速度（页面跳转 < 500ms）
- ✅ 测试系统稳定性（无崩溃、无卡顿）

### 1.2 测试环境

| 项目 | 配置 |
|-----|------|
| **测试设备** | 华为Mate 60 Pro / 华为智慧屏 |
| **系统版本** | HarmonyOS 4.0 |
| **分辨率** | 2720×1260 / 3840×2160 |
| **测试工具** | DevEco Studio、HiPerf |

---

## 2. 功能测试用例

### 2.1 主控屏界面测试

| 测试项 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|-------|---------|---------|---------|------|
| 界面布局 | 启动应用查看主界面 | 左右分栏正常显示，卡片排列正确 | 待测试 | 📋 |
| 用户信息入口 | 点击左上角用户信息区域 | 能够跳转到用户信息页面 | 待测试 | 📋 |
| 左侧小卡片显示 | 查看左侧卡片 | 每行2个，功能清晰可见 | 待测试 | 📋 |
| 右侧大卡片显示 | 查看右侧卡片 | 显示6个卡片：能耗、康养、安防等 | 待测试 | 📋 |
| 康养卡片跳转 | 点击"居家康养"卡片 | 跳转到康养页面 | 待测试 | 📋 |
| 问诊卡片跳转 | 点击"在线问诊"卡片 | 跳转到问诊页面 | 待测试 | 📋 |

### 2.2 居家康养页面测试

| 测试项 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|-------|---------|---------|---------|------|
| 用户信息显示 | 进入康养页面查看右上角 | 显示用户基本信息 | 待测试 | 📋 |
| 健康数据显示 | 查看左侧健康信息区域 | 显示体温、血糖等数据 | 待测试 | 📋 |
| 一键呼叫按钮 | 点击"一键呼叫"按钮 | 按钮颜色变化，触发呼叫 | 待测试 | 📋 |
| 功能卡片布局 | 查看右侧功能卡片 | 两列向下排列 | 待测试 | 📋 |
| 运动健康跳转 | 点击运动健康卡片 | 跳转到运动健康页面 | 待测试 | 📋 |
| 在线问诊跳转 | 点击在线问诊卡片 | 跳转到在线问诊页面 | 待测试 | 📋 |

### 2.3 运动健康页面测试

| 测试项 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|-------|---------|---------|---------|------|
| 步数环形图 | 查看步数进度圈 | 显示当前步数和目标 | 待测试 | 📋 |
| 热量环形图 | 查看热量进度圈 | 显示消耗热量和目标 | 待测试 | 📋 |
| 健康数据卡片 | 查看下方健康卡片 | 最多8个卡片（4×2） | 待测试 | 📋 |
| 返回功能 | 点击返回按钮 | 返回上一页面 | 待测试 | 📋 |

### 2.4 在线问诊页面测试

| 测试项 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|-------|---------|---------|---------|------|
| 医院筛选 | 选择医院筛选条件 | 卡片列表更新 | 待测试 | 📋 |
| 科室筛选 | 选择科室筛选条件 | 卡片列表更新 | 待测试 | 📋 |
| 重置按钮 | 点击重置按钮 | 筛选条件清空 | 待测试 | 📋 |
| 医生卡片显示 | 查看医生列表 | 每行4个，最多8个 | 待测试 | 📋 |
| 返回功能 | 点击返回按钮 | 返回上一页面 | 待测试 | 📋 |

---

## 3. 性能测试

### 3.1 测试指标

| 性能指标 | 目标值 | 测试方法 | 实际值 | 状态 |
|---------|--------|---------|--------|------|
| **启动时间** | < 3秒 | 从点击图标到首页显示完成 | 待测试 | 📋 |
| **页面跳转时间** | < 500ms | 点击卡片到新页面显示 | 待测试 | 📋 |
| **界面帧率** | ≥ 55 FPS | 滑动列表时的帧率 | 待测试 | 📋 |
| **内存占用** | < 200MB | 正常使用时的内存峰值 | 待测试 | 📋 |
| **CPU占用** | < 30% | 正常使用时的平均CPU | 待测试 | 📋 |

### 3.2 帧率测试步骤

```bash
# 使用 HiPerf 工具测试帧率
hdc shell
hiperfcmd start -f 1000 -o /data/local/tmp/perf.data

# 操作应用界面（滑动、跳转等）

hiperfcmd stop
hdc file recv /data/local/tmp/perf.data ./
```

**测试场景：**
1. 主页滚动卡片列表
2. 康养页面滚动功能卡片
3. 运动健康页面查看数据
4. 在线问诊滚动医生列表

### 3.3 响应时间测试

```typescript
// 在代码中添加性能监控
PerformanceMonitor.mark('page_navigation_start');
// 页面跳转代码
PerformanceMonitor.measure('page_navigation');
// 输出: "page_navigation: XXXms"
```

**测试记录表：**

| 操作 | 第1次 | 第2次 | 第3次 | 平均值 | 达标 |
|-----|-------|-------|-------|--------|------|
| 主页→康养 | - | - | - | - | 📋 |
| 康养→运动健康 | - | - | - | - | 📋 |
| 康养→在线问诊 | - | - | - | - | 📋 |
| 返回主页 | - | - | - | - | 📋 |

---

## 4. 稳定性测试

### 4.1 压力测试

| 测试场景 | 操作步骤 | 持续时间 | 预期结果 | 实际结果 | 状态 |
|---------|---------|---------|---------|---------|------|
| 连续跳转 | 不停在页面间跳转 | 10分钟 | 无卡顿、无崩溃 | 待测试 | 📋 |
| 长时间运行 | 应用保持打开状态 | 2小时 | 内存稳定、无异常 | 待测试 | 📋 |
| 快速点击 | 快速连续点击按钮 | 30秒 | 响应正常、无崩溃 | 待测试 | 📋 |
| 数据刷新 | 频繁刷新健康数据 | 5分钟 | 数据正常更新 | 待测试 | 📋 |

### 4.2 异常情况处理

| 异常场景 | 触发方式 | 预期处理 | 实际处理 | 状态 |
|---------|---------|---------|---------|------|
| 传感器无数据 | 断开传感器连接 | 显示默认值或提示信息 | 待测试 | 📋 |
| 数据格式错误 | 输入异常数据 | 使用默认值，不崩溃 | 待测试 | 📋 |
| 存储空间不足 | 模拟存储满 | 提示用户，清理旧数据 | 待测试 | 📋 |
| 快速切换页面 | 页面未加载完就跳转 | 取消上次加载，正常跳转 | 待测试 | 📋 |
| 权限未授予 | 拒绝传感器权限 | 提示用户开启权限 | 待测试 | 📋 |

### 4.3 崩溃监控

```typescript
// 记录崩溃次数
测试期间崩溃次数: 0 次
目标: 0 次

// 主要关注场景
- 页面跳转时
- 数据加载时
- 按钮连续点击
- 传感器数据读取
```

---

## 5. 兼容性测试

### 5.1 设备兼容性

| 设备型号 | 分辨率 | 系统版本 | 测试状态 | 问题记录 |
|---------|--------|---------|---------|---------|
| 华为Mate 60 Pro | 2720×1260 | HarmonyOS 4.0 | 📋 待测试 | - |
| 华为智慧屏 V5 | 3840×2160 | HarmonyOS 4.0 | 📋 待测试 | - |
| 华为MatePad Pro | 2560×1600 | HarmonyOS 4.0 | 📋 待测试 | - |

### 5.2 分辨率适配

| 分辨率类型 | 测试结果 | 问题 |
|-----------|---------|------|
| 手机竖屏 | 📋 待测试 | - |
| 平板横屏 | 📋 待测试 | - |
| 大屏电视 | 📋 待测试 | - |

---

## 6. 用户体验测试

### 6.1 界面美观度

| 测试项 | 检查点 | 状态 |
|-------|--------|------|
| 色调 | 使用暖色调/柔和色调 | 📋 |
| 字体大小 | 字体足够大，老年人可阅读 | 📋 |
| 按钮尺寸 | 按钮足够大，易于点击 | 📋 |
| 卡片间距 | 间距合理，不拥挤 | 📋 |
| 图标清晰度 | 图标清晰易识别 | 📋 |

### 6.2 操作便捷性

| 测试项 | 检查点 | 状态 |
|-------|--------|------|
| 返回按钮 | 每个页面都有返回功能 | 📋 |
| 导航逻辑 | 页面跳转路径清晰 | 📋 |
| 信息提示 | 操作后有适当反馈 | 📋 |
| 数据加载 | 有加载提示 | 📋 |

---

## 7. 数据接口测试

### 7.1 传感器数据接口

| 数据类型 | 接口测试 | 数据范围 | 状态 |
|---------|---------|---------|------|
| 心率 | 读取心率数据 | 60-100 bpm | 📋 |
| 血压 | 读取血压数据 | 90/60-140/90 mmHg | 📋 |
| 血氧 | 读取血氧数据 | 95%-100% | 📋 |
| 体温 | 读取体温数据 | 36.0-37.5°C | 📋 |
| 步数 | 读取步数数据 | 0-50000步 | 📋 |
| 卡路里 | 计算卡路里消耗 | 0-5000 kcal | 📋 |

### 7.2 本地存储测试

| 功能 | 测试步骤 | 预期结果 | 状态 |
|-----|---------|---------|------|
| 保存用户信息 | 修改用户资料并保存 | 下次打开数据保留 | 📋 |
| 保存健康数据 | 记录每日健康数据 | 可查看历史记录 | 📋 |
| 保存筛选条件 | 在线问诊设置筛选 | 刷新后条件保留 | 📋 |
| 数据清理 | 清理超过30天的数据 | 旧数据被删除 | 📋 |

---

## 8. 测试总结模板

### 8.1 测试完成情况

```
测试总数: ___ 项
通过: ___ 项  ✅
失败: ___ 项  ❌
待测试: ___ 项  📋
通过率: ___%
```

### 8.2 性能测试汇总

```
启动时间: ___ 秒 (目标 < 3秒)
平均页面跳转: ___ ms (目标 < 500ms)
平均帧率: ___ FPS (目标 ≥ 55 FPS)
内存占用: ___ MB (目标 < 200MB)
CPU占用: ___% (目标 < 30%)
```

### 8.3 稳定性测试汇总

```
崩溃次数: ___ 次 (目标 0次)
ANR次数: ___ 次 (目标 0次)
连续运行时长: ___ 小时 (无异常)
异常处理覆盖率: ___%
```

### 8.4 主要问题列表

| 问题ID | 问题描述 | 严重程度 | 状态 |
|-------|---------|---------|------|
| 1 | - | - | - |
| 2 | - | - | - |

**严重程度说明：**
- 🔴 P0：致命问题（崩溃、数据丢失）
- 🟠 P1：严重问题（功能不可用）
- 🟡 P2：一般问题（体验问题）
- 🟢 P3：轻微问题（优化建议）

### 8.5 测试结论

```
□ 通过测试，可以发布
□ 部分通过，需要修复问题后再测
□ 未通过测试，需要重大修改

测试人员: __________
测试日期: __________
```

---

## 9. 快速测试检查清单

### 每日构建测试（5分钟）

- [ ] 应用能正常启动
- [ ] 主页所有卡片正常显示
- [ ] 能跳转到康养页面
- [ ] 能跳转到运动健康页面
- [ ] 能跳转到在线问诊页面
- [ ] 返回功能正常
- [ ] 无明显卡顿
- [ ] 无崩溃

### 版本发布前测试（30分钟）

- [ ] 完成所有功能测试用例
- [ ] 完成性能测试（帧率、响应时间）
- [ ] 完成稳定性测试（长时间运行）
- [ ] 完成异常处理测试
- [ ] 完成至少2种设备测试
- [ ] 所有P0、P1问题已修复
- [ ] 测试报告已完成

---

## 附录：测试工具使用

### A.1 查看应用帧率

```bash
# 方法1：使用HiPerf
hdc shell hiperfcmd start -f 1000

# 方法2：DevEco Studio Profiler
# 在DevEco Studio中打开 Profiler 工具，选择应用进程即可查看实时帧率
```

### A.2 监控内存和CPU

```bash
# 查看应用内存占用
hdc shell hidumper -s MemoryManagerService -a "-p com.example.app"

# 查看CPU占用
hdc shell top | grep com.example.app
```

### A.3 抓取崩溃日志

```bash
# 抓取日志
hdc shell hilog -r
hdc shell hilog > app_log.txt

# 过滤崩溃信息
hdc shell hilog | grep "CRASH"
```

---

**说明：** 本测试文档专注于实际可测试项，所有测试用例都可以直接执行。测试时按照表格逐项检查并记录结果，最后填写测试总结。
